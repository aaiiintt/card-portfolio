@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@700;800;900&family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Kawaii pastel palette */
    --pink: #f4a7c3;
    --pink-deep: #e07fa8;
    --blue: #9bc4e8;
    --blue-deep: #6aa5d4;
    --lavender: #c4b5e8;
    --lav-deep: #9c88d4;
    --cream: #f9e4b7;
    --cream-deep: #e8c97a;
    --mint: #b5e8c4;
    --mint-deep: #7acc96;
    --dark: #3d3250;
    --paper: #fefcf8;
    --paper-shadow: rgba(61, 50, 80, 0.15);

    /* Section colour map */
    --about-accent: var(--pink);
    --about-accent-deep: var(--pink-deep);
    --videos-accent: var(--blue);
    --videos-accent-deep: var(--blue-deep);
    --art-accent: var(--cream);
    --art-accent-deep: var(--cream-deep);
    --experiments-accent: var(--lavender);
    --experiments-accent-deep: var(--lav-deep);
    --ideas-accent: var(--mint);
    --ideas-accent-deep: var(--mint-deep);
  }
}

@layer base {
  * {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background: #fef6fb;
    color: var(--dark);
    font-family: 'Space Mono', monospace;
    overflow-x: hidden;
  }

  ::selection {
    background: var(--pink);
    color: var(--paper);
  }
}

@layer components {

  /* ─────────────── Typography ─────────────── */

  .font-display {
    font-family: 'Press Start 2P', cursive;
    letter-spacing: 0.05em;
  }

  .font-body {
    font-family: 'Nunito', sans-serif;
  }

  .font-mono {
    font-family: 'Space Mono', monospace;
  }

  /* ─────────────── Card ─────────────── */

  .portfolio-card {
    background: var(--paper);
    border-radius: 12px;
    border: 4px solid var(--dark);
    box-shadow:
      1px 1px 0 var(--dark),
      2px 2px 0 var(--dark),
      3px 3px 0 var(--dark),
      4px 4px 0 var(--dark),
      5px 5px 0 var(--dark),
      6px 6px 0 var(--dark),
      6px 6px 0 transparent,
      6px 6px 0 transparent,
      6px 6px 0 transparent;
    /* 
      The initial shadow extends 6px right/down. 
      We need margin to ensure it doesn't get clipped by the scroll container.
    */
    margin-right: 6px;
    margin-bottom: 6px;
    transition: box-shadow 0.15s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 1;
    position: relative;
  }

  .portfolio-card:hover {
    transform: translate(-3px, -3px);
    /* Shadow expands by exactly the translation amount, pinning it in space */
    box-shadow:
      1px 1px 0 var(--dark),
      2px 2px 0 var(--dark),
      3px 3px 0 var(--dark),
      4px 4px 0 var(--dark),
      5px 5px 0 var(--dark),
      6px 6px 0 var(--dark),
      7px 7px 0 var(--dark),
      8px 8px 0 var(--dark),
      9px 9px 0 var(--dark);
    z-index: 10;
  }

  .portfolio-card:active {
    transform: translate(3px, 3px);
    /* Shadow shrinks by exactly the translation amount, pinning it in space */
    box-shadow:
      1px 1px 0 var(--dark),
      2px 2px 0 var(--dark),
      3px 3px 0 var(--dark),
      3px 3px 0 transparent,
      3px 3px 0 transparent,
      3px 3px 0 transparent,
      3px 3px 0 transparent,
      3px 3px 0 transparent,
      3px 3px 0 transparent;
    z-index: 10;
  }

  /* Card accent header bar */
  .card-header {
    border-radius: 8px 8px 0 0;
    padding: 12px 16px;
    font-family: 'Press Start 2P', cursive;
    font-size: 0.65rem;
    color: var(--dark);
    border-bottom: 4px solid var(--dark);
    letter-spacing: 0.04em;
    box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.4);
  }

  /* ─────────────── Section wrapper ─────────────── */

  .section-wrapper {
    position: relative;
    width: 100%;
    min-height: 100vh;
    background-size: cover;
    background-position: left center;
    background-repeat: no-repeat;
    display: flex;
    flex-direction: column;
  }

  /* ─────────────── Scroll arrows ─────────────── */

  .scroll-btn {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: 4px solid var(--btn-color, var(--dark));
    background: var(--paper);
    box-shadow:
      1px 1px 0 var(--btn-color, var(--dark)),
      2px 2px 0 var(--btn-color, var(--dark)),
      3px 3px 0 var(--btn-color, var(--dark)),
      4px 4px 0 var(--btn-color, var(--dark)),
      4px 4px 0 transparent,
      4px 4px 0 transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    cursor: pointer;
    transition: box-shadow 0.15s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
    color: var(--dark);
    margin-right: 4px;
    margin-bottom: 4px;
    position: relative;
    z-index: 1;
  }

  .scroll-btn:hover {
    transform: translate(-2px, -2px);
    box-shadow:
      1px 1px 0 var(--btn-color, var(--dark)),
      2px 2px 0 var(--btn-color, var(--dark)),
      3px 3px 0 var(--btn-color, var(--dark)),
      4px 4px 0 var(--btn-color, var(--dark)),
      5px 5px 0 var(--btn-color, var(--dark)),
      6px 6px 0 var(--btn-color, var(--dark));
    z-index: 10;
  }

  .scroll-btn:active {
    transform: translate(2px, 2px);
    box-shadow:
      1px 1px 0 var(--btn-color, var(--dark)),
      2px 2px 0 var(--btn-color, var(--dark)),
      2px 2px 0 transparent,
      2px 2px 0 transparent,
      2px 2px 0 transparent,
      2px 2px 0 transparent;
    z-index: 10;
  }

  /* ─────────────── Nav header ─────────────── */

  .site-header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: var(--paper);
    border-bottom: 3px solid var(--dark);
    box-shadow: 0 3px 0 var(--dark);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 24px;
    gap: 16px;
  }

  .nav-link {
    font-family: 'Press Start 2P', cursive;
    font-size: 0.5rem;
    letter-spacing: 0.04em;
    color: var(--dark);
    text-decoration: none;
    padding: 6px 10px;
    border-radius: 20px;
    border: 2px solid transparent;
    transition: background 0.15s, border-color 0.15s, color 0.15s;
  }

  .nav-link:hover {
    border-color: var(--dark);
  }

  /* ─────────────── Scrollbar ─────────────── */

  .hide-scroll {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .hide-scroll::-webkit-scrollbar {
    display: none;
  }

  /* ─────────────── Loading screen ─────────────── */

  .loading-bar {
    height: 100%;
    border-radius: 4px;
    transition: width 0.1s ease;
  }

  /* ─────────────── Dashed divider ─────────────── */

  .dashed-line {
    border: none;
    border-top: 2px dashed var(--dark);
    opacity: 0.3;
    margin: 8px 0;
  }
}